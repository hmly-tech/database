name: config package

on: [push, pull_request]

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v3   
            - name: Create Release
              id: create_release
              uses: actions/create-release@latest 
              env:
                GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # This token is provided by Actions, you do not need to create your own token
              with:
                tag_name: ${{ github.ref }}
                release_name: Release ${{ github.ref }}
                body: |
                  Changes in this Release
                  - First Change
                  - Second Change
                draft: false
                prerelease: false

            - name: Set up go
              uses: actions/setup-go@v4
              with:
                go-version: '1.20.5'

            - name: Build
              run: go build -v ./...
            
            - name: Test 
              run: go test -v ./...
